<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>派送对账单导入</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="../lib/layui-v2.5.4/css/layui.css" media="all">
    <link rel="stylesheet" href="../css/public.css" media="all">
    <style type="text/css">
    	
    </style>
</head>
<body>
	<form class="layui-form" action="">
	  	<div class="layui-inline" style="width: 70%;">
		    <label class="layui-form-label">导入模板</label>
		    <div class="layui-input-block">
		      <select name="interest" lay-filter="aihao">
		        <option value=""></option>
		        <option value="0">写作</option>
		        <option value="1">阅读</option>
		        <option value="2">游戏</option>
		        <option value="3">音乐</option>
		        <option value="4">旅行</option>
		      </select>
		    </div>
  		</div>
  		<button type="button" class="layui-btn layui-btn-normal" style="margin-left: 8%;">模板下载</button>
  		<button type="button" class="layui-btn layui-btn-normal" id="btn">自定义格式</button>
  		<br /><br />
  		<div class="layui-inline">
		    <label class="layui-form-label">应付网点</label>
		    <div class="layui-input-block">
		      <select name="interest" lay-filter="aihao">
		        <option value=""></option>
		        <option value="0">写作</option>
		        <option value="1">阅读</option>
		        <option value="2">游戏</option>
		        <option value="3">音乐</option>
		        <option value="4">旅行</option>
		      </select>
		    </div>
  		</div>
  		<div class="layui-inline">
		    <label class="layui-form-label">派送代理</label>
		    <div class="layui-input-block">
		      <select name="interest" lay-filter="aihao">
		        <option value=""></option>
		        <option value="0">写作</option>
		        <option value="1">阅读</option>
		        <option value="2">游戏</option>
		        <option value="3">音乐</option>
		        <option value="4">旅行</option>
		      </select>
		    </div>
  		</div>
	    <div class="layui-inline">
	      <label class="layui-form-label">对帐单号</label>
	      <div class="layui-input-inline">
	        <input type="tel" name="" class="layui-input">
	      </div>
	    </div>
	    <div class="layui-form-item layui-inline" pane="">
		    <label class="layui-form-label">科目</label>
		    <div id="kemu" class="layui-input-block">
		      <input type="checkbox" name="like1[write]" value="0" lay-skin="primary" >
		    </div>
	  	</div>
	  	<div class="layui-inline" style="width: 10%;">
	      <div class="layui-input-inline">
	        <select id="kemus" disabled name="interest" lay-filter="aihao">
		        <option value=""></option>
		        <option value="0">写作</option>
		        <option value="1">阅读</option>
		        <option value="2">游戏</option>
		        <option value="3">音乐</option>
		        <option value="4">旅行</option>
		     </select>
	      </div>
	    </div>
	    <div class="layui-inline">
		    <label class="layui-form-label">币别</label>
		    <div class="layui-input-block">
		      <select name="interest" lay-filter="aihao">
		        <option value=""></option>
		        <option value="0">写作</option>
		        <option value="1">阅读</option>
		        <option value="2">游戏</option>
		        <option value="3">音乐</option>
		        <option value="4">旅行</option>
		      </select>
		    </div>
  		</div>
  		<div class="layui-inline">
		    <label class="layui-form-label">账单公式</label>
		    <div class="layui-input-block">
		      <select name="interest" lay-filter="aihao">
		        <option value=""></option>
		        <option value="0">写作</option>
		        <option value="1">阅读</option>
		        <option value="2">游戏</option>
		        <option value="3">音乐</option>
		        <option value="4">旅行</option>
		      </select>
		    </div>
  		</div>
  		<div class="layui-form-item layui-inline" pane="">
  			<label class="layui-form-label">补差账单</label>
		    <div class="layui-input-block">
		      <input type="checkbox" name="like1[game]" lay-skin="primary" disabled="">
		    </div>
		</div>
		<button type="button" class="layui-btn layui-btn-normal" id="test3"><i class="layui-icon"></i>导入</button>
		<br /><br />
		<div class="layui-inline">
	      <label class="layui-form-label">批次号</label>
	      <div class="layui-input-inline">
	        <input type="tel" name="" class="layui-input" style="width: 215px;">
	      </div>
	    </div>
	    <div class="layui-inline">
	      <label class="layui-form-label">导入文件</label>
	      <div class="layui-input-inline">
	        <input type="tel" name="" class="layui-input" style="width: 215px;">
	      </div>
	    </div>
	    <div class="layui-inline">
	      <label class="layui-form-label">导入时间</label>
	      <div class="layui-input-inline">
	        <input type="tel" name="" class="layui-input">
	      </div>
	    </div>
	    <div class="layui-inline">
	      <label class="layui-form-label">状态</label>
	      <div class="layui-input-inline">
	        <input type="tel" name="" class="layui-input">
	      </div>
	    </div>
	    <br/><br/>
	    <div class="layui-inline">
	      <label class="layui-form-label">总行数</label>
	      <div class="layui-input-inline">
	        <input type="tel" name="" class="layui-input" style="width: 215px;"	>
	      </div>
	    </div>
	    <div class="layui-inline">
	      <label class="layui-form-label">错误行数</label>
	      <div class="layui-input-inline">
	        <input type="tel" name="" class="layui-input" style="width: 215px;">
	      </div>
	    </div>
	    <button type="button" class="layui-btn layui-btn-normal" style="margin-left: 10%;">文件下载</button>
	    <button type="button" class="layui-btn layui-btn-normal">历史日志</button>
	    <button type="button" class="layui-btn layui-btn-normal">对账单审核</button>
	    <button type="button" class="layui-btn layui-btn-normal">错误说明下载</button>
	</form>
	<div>
		<table class="layui-hide" id="test"></table>
	</div>
<script src="../lib/layui-v2.5.4/layui.js" charset="utf-8"></script>
<script src="../js/jquery-1.12.4.js"></script>
<script>
		layui.use(['jquery','table','form','upload'], function(){
		  var table = layui.table;
		  var $ = layui.jquery;
		  var form = layui.form;
		  var upload = layui.upload;
		  
		  table.render({
		    elem: '#test'
		    ,url:'../api/Student.json'
		    ,toolbar: '#toolbarDemo'
		    ,cols: [[
		      {field:'id', width:300, title: '行号', sort: true}
		      ,{field:'username', width:500, title: '运单号码'}
		      ,{field:'sex', width:500, title: '错误说明', sort: true}
		    ]]
		    ,page: true
		  });
		  
		  //头工具栏事件
		  table.on('toolbar(test)', function(obj){
		    var checkStatus = table.checkStatus(obj.config.id); //获取选中行状态
		    switch(obj.event){
		      case 'getCheckData':
		        var data = checkStatus.data;  //获取选中行数据
		        layer.alert(JSON.stringify(data));
		      break;
		    };
		  });
		  
		  	$("#kemu").click(function () {
		  		var aa=$(this).find("input").val();
		  		if (aa==0) {
		  			$("#kemus").removeAttr("disabled");
		  		}else if(aa==1){
		  			$("#kemus").attr("disabled","");
		  		}
		  		if (aa==0) {
		  			$(this).find("input").val(1);
		  		} else if(aa==1){
		  			$(this).find("input").val(0);
		  		}
				form.render();
			});
			
			
			upload.render({
		    elem: '#test3'
		    ,url: 'https://httpbin.org/post' //改成您自己的上传接口
		    ,accept: 'file' //普通文件
		    ,done: function(res){
		      layer.msg('上传成功');
		      console.log(res);
		    }
		  });


		$("#btn").on("click",function(){
			layer.open({
			  type:2,
				content:'CustomFormat.html',
				area:['800px','600px'],
				title:'Excel导入自定义格式设置',
				success: function (layero, index) {   //弹出层弹出后的回调函数
	                var iframe = window['layui-layer-iframe' + index];// 获取子页面的iframe
	                iframe.child(data.id);   // 向子页面的全局函数child传参
	            },			
				end:function(){     //弹出层销毁后的事件
					table.reload("userTable");//增加成功后刷新表格
				}
		  	})
		})
		  
		});
		
		
		</script>
</body>
</html>