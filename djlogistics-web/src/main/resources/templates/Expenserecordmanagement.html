<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>订单预报</title>
		<link rel="stylesheet" href="../lib/layui-v2.5.4/css/layui.css">
		<link rel="stylesheet" href="../lib/layui-v2.5.4/css/soulTable.css" media="all">
		<link rel="stylesheet" href="../css/layuimini.css" media="all">
		<style type="text/css">
			#luxian {
				position: absolute;
				left: 12.5%;
				top: 15%;
			}
		</style>
	</head>
	<body>
		<br/>
		<div style="margin-left: 20px;">
			<!-- 导航start -->
			<form class="layui-form layui-form-pane" action="">
				<div class="layui-form-item">
					<div class="layui-inline">
						<button type="button" class="layui-btn layui-btn-sm  btn-bgcolor">提交</button>
					</div>
				</div>
				<!-- 导航end -->
				<!-- 搜索start -->
				<div class="layui-form-item">
					<div class="layui-inline" style="width: 150px;">
						<div class="layui-form-item">
							<select name="city" lay-verify="required">
								<option value="">运单号码</option>
								<option value="">参考编号</option>
								<option value="">订单号码</option>
							</select>
						</div>
						<div class="layui-form-item" style="margin-top:-11% !important;">
							<textarea class="layui-textarea"></textarea>
							<div class="layui-form-item">
								<button type="button" class="layui-btn layui-btn-sm" style="width: 9.375rem; margin-top: 2px;"> 清空</button>
							</div>
						</div>
					</div>
					<div class="layui-inline" style="margin-top: -7% !important;">
						<div class="layui-inline">
							<div class="layui-form-item">
								录入时间
							</div>
							<div class="layui-form-item" style="width: 280px;">
								<input type="text" class="layui-input" id="test16" placeholder="开始时间 到 结束时间">
							</div>
						</div>
						<div class="layui-inline">
							<div class="layui-form-item">
								补录相关
							</div>
							<div class="layui-form-item">
								<select name="city" lay-verify="required">
									<option value=""></option>
									<option value="">运单号码</option>
									<option value="">参考编号</option>
									<option value="">订单号码</option>
								</select>
							</div>
						</div>
						<div class="layui-inline">
							<div class="layui-form-item">
								客户编码/名称
							</div>
							<div class="layui-form-item">
								<input type="text" name="title" required lay-verify="required" autocomplete="off" class="layui-input">
							</div>
						</div>
						<div class="layui-inline">
							<div class="layui-form-item">
								数据来源
							</div>
							<div class="layui-form-item">
								<select name="city" lay-verify="required">
									<option value=""></option>
									<option value="">运单号码</option>
									<option value="">参考编号</option>
									<option value="">订单号码</option>
								</select>
							</div>
						</div>
						<div class="layui-inline">
							<div class="layui-form-item">
								科目
							</div>
							<div class="layui-form-item">
								<select name="city" lay-verify="required">
									<option value=""></option>
									<option value="">运单号码</option>
									<option value="">参考编号</option>
									<option value="">订单号码</option>
								</select>
							</div>
						</div>
					</div>

					<div class="layui-form-item" id="luxian">
						<div class="layui-inline">
							<div class="layui-form-item">
								对账员
							</div>
							<div class="layui-form-item">
								<select name="city" lay-verify="required">
									<option value=""></option>
									<option value="">运单号码</option>
									<option value="">参考编号</option>
									<option value="">订单号码</option>
								</select>
							</div>
						</div>
						<div class="layui-inline">
							<div class="layui-form-item">
								销售员
							</div>
							<div class="layui-form-item">
								<select name="city" lay-verify="required">
									<option value=""></option>
									<option value="">运单号码</option>
									<option value="">参考编号</option>
									<option value="">订单号码</option>
								</select>
							</div>
						</div>
						<div class="layui-inline">
							<div class="layui-form-item">
								提交状态
							</div>
							<div class="layui-form-item">
								<select name="city" lay-verify="required">
									<option value=""></option>
									<option value="">运单号码</option>
									<option value="">参考编号</option>
									<option value="">订单号码</option>
								</select>
							</div>
						</div>
						<div class="layui-inline">
							<div class="layui-form-item">
								提交人（可多选）
							</div>
							<div class="layui-form-item">
								<select name="city" lay-verify="required">
									<option value=""></option>
									<option value="">运单号码</option>
									<option value="">参考编号</option>
									<option value="">订单号码</option>
								</select>
							</div>
						</div>
						<div class="layui-inline">
							<button type="submit" class="layui-btn" lay-submit="" lay-filter="demo1">查询</button>
							<button type="reset" class="layui-btn layui-btn-primary">重置</button>
						</div>
					</div>
				</div>
		</div>
		<!-- 搜索end -->
		<!-- 显示数据start -->
		<table class="layui-hide" id="test"></table>
		<!-- 显示数据end -->
		</form>
		</div>
		<script src="../lib/layui-v2.5.4/layui.js"></script>
		<script>
			// 自定义模块
			layui.config({
				base: '../ext/', // 模块目录
				version: 'v1.5.4'
			}).extend({ // 模块别名
				soulTable: 'soulTable'
			});
			layui.use(['element', 'layer', 'form', 'layedit', 'laydate', 'table', 'soulTable'], function() {
				var element = layui.element;
				var $ = layui.jquery;
				var layer = layui.layer;
				var form = layui.form;
				var layedit = layui.layedit;
				var laydate = layui.laydate;
				var table = layui.table;
				var soulTable = layui.soulTable;
				//日期
				laydate.render({
					elem: '#test16',
					type: 'datetime',
					range: '到',
					format: 'yyyy-M-d H:m:s'
				});

				table.render({
					elem: '#test',
					url: '../api/demo1.json',
					toolbar: true,
					title: '用户数据表',
					totalRow: true,
					contextmenu: {
						// 表格内容右键菜单配置
						body: [{
								name: '选中',
								click: function(obj) {
				
									$.post("/pxy/getReordById", {
										'id': obj.row.rid
									}, function(result) {
										if (result) {
											layer.msg("选择成功");
				
										} else {
											layer.msg("选择失败");
										}
									})
								}
							},
							{
								name: '删除当前行数据',
								click: function(obj) {
									var data = obj.row;
									layer.confirm('真的删除行么', {
										title: '提示',
										icon: 3
									}, function(index) {
										$.ajax({
											url: "/pxy/rdelete",
											type: "post",
											dataType: "text",
											data: {
												"rid": data.rid
											},
											success: function(res) {
												if (res == 'true') {
													obj.del();
													layer.msg("删除成功！");
												}
											}
										});
										layer.close(index);
									});
								}
							}
						],
					},
					cols: [
						[{
							field: 'id',
							title: 'ID',
							width: 80,
							fixed: 'left',
							unresize: true,
							sort: true,
							totalRowText: '合计'
						}, {
							field: 'username',
							title: '用户名',
							width: 120,
							edit: 'text'
						}, {
							field: 'email',
							title: '邮箱',
							width: 150,
							edit: 'text',
							templet: function(res) {
								return '<em>' + res.email + '</em>'
							}
						}, {
							field: 'experience',
							title: '积分',
							width: 80,
							sort: true,
							totalRow: true
						}, {
							field: 'sex',
							title: '性别',
							width: 80,
							edit: 'text',
							sort: true
						}, {
							field: 'logins',
							title: '登入次数',
							width: 100,
							sort: true,
							totalRow: true
						}, {
							field: 'sign',
							title: '签名'
						}, {
							field: 'city',
							title: '城市',
							width: 100
						}, {
							field: 'ip',
							title: 'IP',
							width: 120
						}, {
							field: 'joinTime',
							title: '加入时间',
							width: 120
						}, {
							fixed: 'right',
							title: '操作',
							toolbar: '#barDemo',
							width: 150
						}]
					],
					done: function() {
						soulTable.render(this)
					},
					page: true,
					limit: 2
				});

			});
		</script>
	</body>
</html>
